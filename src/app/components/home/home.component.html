
    <div class="home-container container-fluid px-0">
      <!-- HERO SECTION -->
      <section class="hero" [style.background-image]="heroBackgroundStyle">
        <div class="hero-overlay"></div>
        <div class="hero-content">
          <h1>Find Your Dream Property</h1>
          <p>Discover premium real estate opportunities with our expert guidance</p>
          <div class="hero-search-card">
            <div class="search-category-strip" role="tablist" aria-label="Search categories">
              <button
                *ngFor="let category of searchCategories"
                type="button"
                class="category-item"
                [attr.data-category]="category"
                [class.active]="activeSearchCategory === category"
                (click)="activeSearchCategory = category"
              >
                <span>{{ category }}</span>
              </button>
            </div>

            <div class="hero-search-controls">
              <div class="location-select-wrap" (click)="$event.stopPropagation()">
                <button
                  type="button"
                  class="city-dropdown-trigger"
                  [attr.aria-expanded]="cityDropdownOpen"
                  aria-haspopup="listbox"
                  aria-label="Select city"
                  (click)="toggleCityDropdown(); $event.stopPropagation()"
                >
                  <span class="city-field-label">City</span>
                  <span class="city-current-value">{{ selectedCityDisplay }}</span>
                  <span class="caret-icon" [class.open]="cityDropdownOpen" aria-hidden="true"></span>
                </button>

                <div class="city-dropdown-menu" *ngIf="cityDropdownOpen" role="listbox" aria-label="Cities">
                  <button
                    type="button"
                    class="city-option"
                    *ngFor="let city of supportedCities"
                    [class.active]="city.toLowerCase() === selectedCityDisplay.toLowerCase()"
                    (click)="selectCity(city); $event.stopPropagation()"
                  >
                    {{ city }}
                  </button>
                </div>
              </div>

              <div class="search-input-wrap">
                <span class="search-icon">‚åï</span>
                <input
                  class="search-input"
                  type="text"
                  [(ngModel)]="searchQuery"
                  placeholder="Search by location"
                  (input)="onSearchInput()"
                  (focus)="onSearchFocus()"
                  (blur)="onSearchBlur()"
                  (keyup.enter)="search()"
                >

                <div class="home-search-suggestions list-group" *ngIf="showSearchSuggestions && searchSuggestions.length > 0">
                  <button
                    type="button"
                    class="list-group-item list-group-item-action"
                    *ngFor="let suggestion of searchSuggestions"
                    (mousedown)="$event.preventDefault()"
                    (click)="selectSearchSuggestion(suggestion)"
                  >
                    {{ suggestion }}
                  </button>
                </div>
              </div>

              <button (click)="search()" class="search-btn" type="button">Search</button>
            </div>
          </div>
        </div>
      </section>

      <!-- HOT PROJECTS SECTION -->
      <section class="hot-projects-section container py-4 py-md-5">
        <div class="hot-projects-card">
          <h2 class="hot-projects-title mb-4">Hot Selling Real Estate Projects in {{ currentHotProjectsCity }}</h2>

          <div class="hot-projects-filters mb-4">
            <button
              *ngFor="let region of currentCityRegions"
              type="button"
              class="region-chip"
              [class.active]="activeHotProjectsRegion === region"
              (click)="setHotProjectsRegion(region)"
            >
              {{ region }}
            </button>
          </div>

          <div class="hot-projects-carousel-wrap">
            <div class="hot-projects-track" #hotProjectsTrack>
              <article class="hot-project-card" *ngFor="let project of filteredHotProjects; index as index">
                <span class="project-rank">{{ index + 1 }}</span>
                <div class="project-image-wrap">
                  <img [src]="getHotProjectImage(project)" [alt]="project.name || project.title" loading="lazy" decoding="async" (error)="handleImageError($event)">
                </div>
                <div class="project-card-content">
                  <h3 class="mb-1">{{ project.name || project.title }}</h3>
                  <p class="project-location mb-1">{{ project.location }}{{ project.cityDivision ? ', ' + project.cityDivision : '' }}</p>
                  <p class="project-price mb-0">{{ (project.priceDetails.totalPrice || project.price || 0) | currency:'INR':'symbol':'1.0-0':'en-IN' }}</p>
                </div>
              </article>

              <div class="no-hot-projects" *ngIf="!loadingFeatured && filteredHotProjects.length === 0">
                No {{ activeSearchCategory.toLowerCase() }} projects found for this subdivision.
              </div>
            </div>

            <button
              *ngIf="filteredHotProjects.length > 3"
              class="carousel-next-btn"
              type="button"
              aria-label="Scroll projects"
              (click)="scrollHotProjects()"
            >
              ‚Ä∫
            </button>
          </div>

        </div>
      </section>

      <!-- FEATURED PROPERTIES SECTION -->
      <section class="featured-section container py-5">
        <div class="section-header text-center mb-5">
          <h2 class="mb-3">Featured Properties</h2>
          <p class="text-muted">Handpicked properties that stand out from the rest</p>
        </div>
        <div *ngIf="loadingFeatured" class="loading">Loading properties...</div>
        <div *ngIf="!loadingFeatured && featuredProperties.length > 0" class="row g-4">
          <div *ngFor="let property of featuredProperties.slice(0, 6)" class="col-12 col-md-6 col-lg-4">
            <div class="property-card card h-100 p-0 overflow-hidden">
              <div class="property-image">
                <img
                  *ngIf="property.images && property.images.length > 0"
                  [src]="property.images[0]"
                  [alt]="property.title"
                  loading="lazy"
                  decoding="async"
                  (error)="handleImageError($event)"
                />
                <div *ngIf="!property.images || property.images.length === 0" class="no-image">
                  No Image Available
                </div>
                <span class="price-badge">{{ property.price | currency:'INR':'symbol':'1.0-0':'en-IN' }}</span>
              </div>
              <div class="property-info p-3">
                <h3 class="mb-2">{{ property.title }}</h3>
                <p class="location mb-3">üìç {{ property.location }}</p>
                <div class="property-specs mb-3 d-flex gap-3">
                  <span class="spec">üõèÔ∏è {{ property.bedrooms }}</span>
                  <span class="spec">üöø {{ property.bathrooms }}</span>
                  <span class="spec">üìê {{ property.area | number }} sqft</span>
                </div>
                <button class="btn btn-outline-primary w-100" (click)="viewProperty(property.id)">View Details</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA SECTION -->
      <section class="cta-section text-white text-center py-5">
        <div class="container py-5">
          <h2 class="mb-3">Ready to Find Your Dream Home?</h2>
          <p class="mb-4">Join thousands of happy homeowners who found their perfect property with us</p>
          <a routerLink="/properties" class="btn btn-light btn-lg">Browse All Properties</a>
        </div>
      </section>
    </div>
  