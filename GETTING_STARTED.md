# Real Estate Website - Getting Started Guide

## Quick Setup Steps

### 1. Firebase Configuration

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Create a new project named "Realtor"
3. In the project:
   - Go to **Authentication** â†’ Enable **Email/Password** sign-in method
   - Create a test admin user (e.g., admin@example.com / password123)
   - Go to **Firestore Database** â†’ Create database in production mode
   - Go to **Project Settings** â†’ Copy your config values

4. Add Firebase config to `src/environments/environment.ts`:

```typescript
export const environment = {
  production: false,
  firebase: {
    apiKey: 'AIzaSyDxxx...',
    authDomain: 'yourproject.firebaseapp.com',
    projectId: 'yourproject',
    storageBucket: 'yourproject.appspot.com',
    messagingSenderId: '123456789',
    appId: '1:123456789:web:abcdef123456',
  },
  cloudinary: {
    cloudName: 'YOUR_CLOUD_NAME',
    uploadPreset: 'YOUR_UPLOAD_PRESET',
  },
};
```

### 2. Cloudinary Configuration

1. Go to [Cloudinary Dashboard](https://cloudinary.com/console/)
2. Copy your **Cloud Name**
3. Go to **Settings** â†’ **Upload**
4. Create an **Unsigned Upload Preset**:
   - Name: `realtor_preset` (or any name)
   - Unsigned: Enable
   - Save

5. Update `src/environments/environment.ts` with:
   - Cloud Name
   - Upload Preset name

### 3. Firestore Security Rules

In Firebase Console â†’ Firestore â†’ Rules, replace with:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /properties/{document=**} {
      allow read: if true;
      allow create, update, delete: if request.auth != null;
    }
  }
}
```

### 4. Start Development Server

```bash
# Install dependencies (if not done)
npm install

# Start the development server
npm start

# Navigate to http://localhost:4200/
```

## Using the Application

### Public Users
- Visit `http://localhost:4200/`
- Browse properties on the Properties page
- Search by title, location, or description
- Filter by price range
- View detailed property information with images

### Admin Users

#### Login to Admin Panel
1. Click "Admin Login" in the navbar
2. Enter your Firebase credentials
3. You'll be redirected to the Admin Dashboard

#### Add a Property
1. In Admin Dashboard, go to "Add Property" tab
2. Fill in all details:
   - **Title**: Property name
   - **Description**: Full description
   - **Price**: In USD
   - **Location**: Address/area
   - **Bedrooms/Bathrooms/Area**: Property specs
   - **Owner**: Your name
   - **Email/Phone**: Contact info
   - **Features**: Amenities (comma-separated)
3. **Upload Images**: Select multiple image files
4. Click **Add Property**

#### Edit/Delete Properties
1. Go to "My Properties" tab
2. Click **Edit** to modify details
3. Click **Delete** to remove property (with confirmation)

## File Structure

```
realtor/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ navbar/
â”‚   â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ properties/
â”‚   â”‚   â”‚   â”œâ”€â”€ property-detail/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ admin-dashboard/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ property.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ cloudinary.service.ts
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ property.model.ts
â”‚   â”‚   â”œâ”€â”€ guards/
â”‚   â”‚   â”‚   â””â”€â”€ auth.guard.ts
â”‚   â”‚   â”œâ”€â”€ app.routes.ts
â”‚   â”‚   â””â”€â”€ app.config.ts
â”‚   â”œâ”€â”€ environments/
â”‚   â”‚   â””â”€â”€ environment.ts
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ angular.json
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ SETUP.md
```

## Key Features Explained

### Authentication (AuthService)
- Uses Firebase Authentication
- Email/password login
- Stores user state in RxJS BehaviorSubject
- Auth Guard protects admin routes

### Property Management (PropertyService)
- CRUD operations on Firestore
- Search functionality
- Price filtering
- Timestamps on creation/update

### Image Uploads (CloudinaryService)
- Multiple image upload support
- Shows upload progress
- Stores Cloudinary URLs in Firestore
- Supports JPEG, PNG, GIF, WebP

### Routing
- Public routes: /, /properties, /property/:id
- Protected routes: /admin (requires authentication)
- Login: /login

## Environment Variables

Sensitive data should be stored in `src/environments/environment.ts`:
- Firebase credentials
- Cloudinary Cloud Name
- Upload Presets

## Database Schema

### Properties Collection
```javascript
{
  id: string,                    // Auto-generated by Firestore
  title: string,
  description: string,
  price: number,
  location: string,
  bedrooms: number,
  bathrooms: number,
  area: number,                  // in square feet
  images: string[],              // Cloudinary URLs
  features: string[],
  owner: string,
  email: string,
  phone: string,
  createdAt: timestamp,
  updatedAt: timestamp,
}
```

## Common Issues & Solutions

### Issue: Images not uploading
**Solution:**
- Check Cloudinary credentials in environment.ts
- Verify upload preset is "Unsigned"
- Check browser console for errors
- Ensure image file size < 100MB

### Issue: Cannot login as admin
**Solution:**
- Verify admin user exists in Firebase Authentication
- Check email/password are correct
- Ensure Email/Password auth is enabled in Firebase
- Check Firestore rules allow authenticated writes

### Issue: Properties not showing
**Solution:**
- Check Firebase connection in environment.ts
- Verify Firestore database exists
- Check browser DevTools Network tab for errors
- Ensure Firestore rules allow public read

### Issue: Build errors
**Solution:**
```bash
# Clear node_modules and reinstall
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps

# Clean build
npm run build
```

## Development Tips

### Testing Locally
1. Create test admin user in Firebase
2. Add sample properties via admin panel
3. Test search and filter on properties page
4. Test edit/delete functionality

### Production Build
```bash
npm run build

# Output in dist/ folder
# Deploy to Firebase Hosting:
npm install -g firebase-tools
firebase login
firebase deploy
```

### Useful Commands
```bash
# Start dev server
npm start

# Build for production
npm run build

# Run tests
npm test

# Lint code
npm run lint
```

## Next Steps

1. âœ… Configure Firebase
2. âœ… Configure Cloudinary
3. âœ… Start development server
4. âœ… Create admin user
5. âœ… Add test properties
6. âœ… Test all features
7. âœ… Deploy to production

## Additional Resources

- [Angular Documentation](https://angular.io)
- [Firebase Documentation](https://firebase.google.com/docs)
- [Cloudinary Documentation](https://cloudinary.com/documentation)
- [Firestore Best Practices](https://firebase.google.com/docs/firestore/best-practices)

## Support

For detailed information, see:
- `SETUP.md` - Complete setup guide
- `README.md` - Project overview

Happy coding! ðŸŽ‰
